---
layout: article
title: ROS问题
---
# ROS小项目
[项目源码](https://github.com/nkuzqy/move_and_grasp)
### 1，编译报错：
```
-- Could NOT find dynamixel_controllers (missing: dynamixel_controllers_DIR)
-- Could not find the required component 'dynamixel_controllers'. The following CMake error indicates that you either need to install the package with the same name or change your environment so that it can be found.
CMake Error at /opt/ros/noetic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):
  Could not find a package configuration file provided by
  "dynamixel_controllers" with any of the following names:

    dynamixel_controllersConfig.cmake
    dynamixel_controllers-config.cmake

  Add the installation prefix of "dynamixel_controllers" to CMAKE_PREFIX_PATH
  or set "dynamixel_controllers_DIR" to a directory containing one of the
  above files.  If "dynamixel_controllers" provides a separate development
  package or SDK, be sure it has been installed.
Call Stack (most recent call first):
  turtlebot_arm/my_dynamixel_tutorial/CMakeLists.txt:10 (find_package)


-- Configuring incomplete, errors occurred!
See also "/home/zx/move_and_grasp/build/CMakeFiles/CMakeOutput.log".
See also "/home/zx/move_and_grasp/build/CMakeFiles/CMakeError.log".
Invoking "cmake" failed

```
* 解决:
```
#在src下：
#这个包在noetic中已弃用，需要直接克隆到src下编译(在ROSwiki上找到源码)
git clone https://github.com/arebgun/dynamixel_motor.git
```
### 2，编译报错
```
-- Could NOT find pcl_conversions (missing: pcl_conversions_DIR)
-- Could not find the required component 'pcl_conversions'. The following CMake error indicates that you either need to install the package with the same name or change your environment so that it can be found.
CMake Error at /opt/ros/noetic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):
  Could not find a package configuration file provided by "pcl_conversions"
  with any of the following names:

    pcl_conversionsConfig.cmake
    pcl_conversions-config.cmake

  Add the installation prefix of "pcl_conversions" to CMAKE_PREFIX_PATH or
  set "pcl_conversions_DIR" to a directory containing one of the above files.
  If "pcl_conversions" provides a separate development package or SDK, be
  sure it has been installed.
Call Stack (most recent call first):
  move_and_grasp/CMakeLists.txt:11 (find_package)
```
* 解决
```
sudo apt-get install ros-noetic-pcl-conversions
```
**以上报错都是缺失功能包，要么安装功能包，要么克隆源码**
### 3，编译报错
```
In file included from /home/zx/move_and_grasp/src/ar_track_alvar/ar_track_alvar/include/ar_track_alvar/Rotation.h:36,
                 from /home/zx/move_and_grasp/src/ar_track_alvar/ar_track_alvar/include/ar_track_alvar/Pose.h:28,
                 from /home/zx/move_and_grasp/src/ar_track_alvar/ar_track_alvar/include/ar_track_alvar/Camera.h:35,
                 from /home/zx/move_and_grasp/src/ar_track_alvar/ar_track_alvar/src/Camera.cpp:25:
/home/zx/move_and_grasp/src/ar_track_alvar/ar_track_alvar/include/ar_track_alvar/Util.h:40:10: fatal error: cxcore.h: 没有那个文件或目录
   40 | #include <cxcore.h>
      |          ^~~~~~~~~~
compilation terminated.
make[2]: *** [ar_track_alvar/ar_track_alvar/CMakeFiles/ar_track_alvar.dir/build.make:63：ar_track_alvar/ar_track_alvar/CMakeFiles/ar_track_alvar.dir/src/Camera.cpp.o] 错误 1
make[1]: *** [CMakeFiles/Makefile2:6058：ar_track_alvar/ar_track_alvar/CMakeFiles/ar_track_alvar.dir/all] 错误 2
make: *** [Makefile:141：all] 错误 2
Invoking "make -j1 -l1" failed
```
* 解决
```
这个头文件不推荐使用了，所以后期版本没有了， opencv4找不到cxcore.h的话，可以

1. 安装opencv3

2. 将 #include <cxcore.h> 改为 #include "opencv2/core/core_c.h"

3. 将 #include <cv.h>  改为

#include "opencv2/core/core_c.h"
#include "opencv2/imgproc/imgproc_c.h"
#include "opencv2/photo/photo_c.h"
#include "opencv2/video/tracking_c.h"
#include "opencv2/objdetect/objdetect_c.h"
```





